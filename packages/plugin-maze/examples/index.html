<!DOCTYPE html>
<html>
  <head>
    <script src="https://unpkg.com/jspsych"></script>
    <!-- The plugin is loaded here -->
    <script src="https://unpkg.com/@jspsych/plugin-maze"></script>
    <script src="../dist/index.browser.js"></script>

    <!-- Ugly trick to keep the data separate while not having to think of how to fetch it -->
    <script src="stimuli.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/jspsych/css/jspsych.css" />
  </head>

  <body></body>
  <script>
    const jsPsych = initJsPsych();

    const procedure = {
      timeline : [
        {
          type: jsPsychMaze,
          sentence: jsPsych.timelineVariable('sentence'),
          question: jsPsych.timelineVariable('question'),
          inter_word_interval: 100,
          end_interval: 500,
          pre_answer_interval: 200,
          halt_on_error: true,
          on_finish: () => {
            jsPsych.data.displayData('json');
          },
        }
      ],
      timeline_variables: data,
    };

    jsPsych.run(procedure)
  </script>
</html>
