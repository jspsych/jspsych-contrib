<!DOCTYPE html>
<html>
  <head>
    <link href="styles.css" rel="stylesheet" type="text/css">
    <script src="https://unpkg.com/jspsych"></script>
    <script src="../dist/index.browser.js"></script>
    <link href="https://unpkg.com/jspsych/css/jspsych.css" rel="stylesheet" type="text/css">
  </head>
  <body></body>
  <script>
    const jsPsych = initJsPsych({
      on_finish: function() {
        jsPsych.data.displayData();
      },
    });

    // Declaring the prompts necessary
    prompts = [
      {
        prompt: "Welcome to this trial",
        role: "prompt",
        message_trigger: 0,
        timer_trigger: 1000000,
      },
      // {
      //   prompt: "Triggers on 100 'timer_trigger'",
      //   role: "chatbot",
      //   message_trigger: 10000,
      //   timer_trigger: 100,
      // },
      {
        prompt: "YELL AT ME AND SAY SOMETHING MEAN",
        role: "chatbot-fetch",
        message_trigger: 3,
        timer_trigger: 1000000,
      }
    ]

    const trial = {
      type: jsPsychChat,
      ai_prompt: "Pretend to be a comedian and include a joke at the end of every response",
      chat_field_placeholder: "be nice...",
      additional_prompts: prompts,
    }

    jsPsych.run([trial]);
  </script>
</html>